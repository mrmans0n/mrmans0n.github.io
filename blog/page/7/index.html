
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Nacho Lopez</title>
	<meta name="author" content="Nacho Lopez">

	
	<meta name="description" content="Jun 13th, 2012 android, java, reflection Changing Values of Attributes in Android Only Accessible by XML I had to use today the
cropToPadding &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Nacho Lopez" type="application/atom+xml">
	
	<link rel="canonical" href="http://mrmans0n.github.io/blog/page/7/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
            var imageUrl = "http://www.gravatar.com/avatar/" + MD5("nacho@nlopez.io") + "?s=220";
            $('.profilepic').css("background-image", "url("+imageUrl+")")
		});
	</script>
</div>
<hgroup id="title">
  <h1><a href="/">Nacho Lopez</a></h1>
  
    <h2>I code.</h2>
  
</hgroup>

<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>


<section class="aboutme">
  <blockquote>
    I do awesome stuff for Android, iOS and Rails.
  </blockquote>
</section>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/+NachoLópezSais" rel="author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/mrmans0n" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/mrmans0n" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-06-13T22:00:00+02:00" data-updated="true" itemprop="datePublished">Jun 13<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/reflection/'>reflection</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/06/13/changing-values-of-attributes-in-android-only-accessible-by-xml/" itemprop="url">Changing Values of Attributes in Android Only Accessible by XML</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I had to use today the
<strong>cropToPadding</strong>
 attribute for an ImageView in Android. It’s the way to go if you want to mimic
Aspect Fill scaling with Clipped Subviews from iOS, by using it and
<strong>centerCrop</strong>
 as scaleType.</p>

<p>For example, if I wanted to do it from a layout, it would be like this.</p>

<p>Pretty simple.</p>

<p>But the problem is… can I do this programmatically?</p>

<p>The short answer is
not directly. You have no setCropToPadding(true) in the
API for
<a href="http://developer.android.com/reference/android/widget/ImageView.html">ImageView</a>.</p>

<p>So, if you want to set a value using a non-existent accessor, you have to do either inflating a style
XML or with a little hack. I’m not fond of hacks because they tend to give you problems with unreleased versions of the OS, but in this case, it’s kind of a big deal working it out with
XML defined attributes.</p>

<p>The hacky way that saved my ass today is this.</p>

<p>Worked like a charm.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-06-05T22:00:00+02:00" data-updated="true" itemprop="datePublished">Jun 5<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/java/'>java</a>, <a class='category' href='/blog/categories/json/'>json</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/06/05/fixing-malformed-json-strings-without-quotation-marks-in-its-attribute-name/" itemprop="url">Fixing Malformed JSON Strings Without Quotation Marks in Its Attribute Name</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Sometimes you find
JSON web services that doesn’t respect the format, just because javascript and some parsers also work that way. But you want to use it with a parser that only allows strict implementations.</p>

<p>So here you have a little piece of code that saved my butt (in Java). It uses String class
<strong>replaceAll</strong>
 method.</p>

<p>malformedJson.replaceAll(&ldquo;(\s)*([a-zA-Z0-9_]+?):&rdquo;, &ldquo;\&rdquo;$2\&ldquo;:&rdquo;);</p>

<p>I’m not the most knowledgeable guy with regular expressions but that one is simple enough.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-13T22:00:00+02:00" data-updated="true" itemprop="datePublished">May 13<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/git/'>git</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/13/uploading-existing-unversioned-code-to-a-new-repo-on-github/" itemprop="url">Uploading Existing Unversioned Code to a New Repo on GitHub</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I always seem to forget how to solve this problem, and it always starts the same way: me wanting to upload an already existent code to my repository. In case you never did this you should probably follow
<a href="http://help.github.com/mac-set-up-git/">GitHub’s tutorial</a> first.</p>

<p>Basically the setup is as follows:</p>

<p>$ git init
$ git commit -am &ldquo;Initial commit.&rdquo;
$ git remote add origin git git@github.com:your_user/YourProject.git
$ git push -u origin master</p>

<p>But sometimes, if you’ve created the repository on GitHub and used their automatic generation of
<strong>README.md</strong>
 and
<strong>.gitignore</strong>
 files, you can get this fugly error:</p>

<p>$ git push -u origin master
To git@github.com:your_user/YourProject.git
 ! [rejected]        master &ndash;> master (non-fast-forward)
error: failed to push some refs to &lsquo;git@github.com:your_user/YourProject.git&rsquo;
To prevent you from losing history, non-fast-forward updates were rejected
Merge the remote changes (e.g. &lsquo;git pull&rsquo;) before pushing again.  See the
&lsquo;Note about fast-forwards&rsquo; section of &lsquo;git push &mdash;help&rsquo; for details.</p>

<p>Meaning
there is some stuff here that differs with your local repo and I don’t know what the fuck should I do with it.</p>

<p>The solution is simple and I always seem to forget it. You should pull from the remote first, and then push it again. It goes like this:</p>

<p>$ git pull origin master
From git@github.com:your_user/YourProject.git
 * branch            master     &ndash;> FETCH_HEAD
Merge made by the &lsquo;recursive&rsquo; strategy.
 .gitignore |   16 ++++++++++++++++
 README.md  |    4 ++++
 2 files changed, 20 insertions(+), 0 deletions(&ndash;)
 create mode 100644 .gitignore
 create mode 100644 README.md</p>

<p>And then:</p>

<p>$ git push
Counting objects: 112, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (98/98), done.
Writing objects: 100% (111/111), 1.03 MiB, done.
Total 111 (delta 18), reused 0 (delta 0)
To git@github.com:your_user/YourProject.git
   fcb5a5b..960bd64  master &ndash;> master</p>

<p>Problem solved.</p>

<p>But beware, following these steps with a GitHub generated
<strong>.gitignore</strong>
 file would result in the
gitignored files being uploaded. Either you download or create your own
<strong>.gitignore</strong>
 file prior to the first commit, or you delete them manually, like this:</p>

<p>$ git rm &mdash;cached filename_to_delete</p>

<p>For individual files, or this way:</p>

<p>$ git rm -r &mdash;cached directory_to_delete/</p>

<p>for directories. Then you should commit and push:</p>

<p>$ git commit -am &ldquo;Deleted .gitignore files remotely&rdquo;
$ git push</p>

<p>Another problem solved.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-07T22:00:00+02:00" data-updated="true" itemprop="datePublished">May 7<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dropbox/'>dropbox</a>, <a class='category' href='/blog/categories/ios/'>ios</a>, <a class='category' href='/blog/categories/xcode/'>xcode</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/07/using-dropbox-to-synchronize-xcode-4-snippets/" itemprop="url">Using Dropbox to Synchronize Xcode 4 Snippets</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>As many of you, devs, I have more than one coding spot: work, home, laptop… And it always bothers me the configuration of the
IDE.</p>

<p>I’m really fond of my coding snippets in Xcode and it was a big bother to keep them up to date, so I had to think of something… why don’t use a shared folder in Dropbox?</p>

<p>First of all, create a folder within your Dropbox called
<strong>CodeSnippets</strong>
.</p>

<p>Then you’ll have to
<strong>delete</strong>
 your current Xcode snippets folder. It’s located at  your user folder
<strong>/Library/Developer/Xcode/UserData/CodeSnippets</strong>
. Copy its contents (if you want to preserve the ones you already have) to the Dropbox folder you created.</p>

<p>So now the only thing that’s left is linking both directories. Open a terminal and type this:</p>

<p>ln -s ~/Dropbox/CodeSnippets ~/Library/Developer/Xcode/UserData/CodeSnippets</p>

<p>And there you go. You only have to repeat these steps in your other computers. You can also share this folder with your team if you want.</p>

<p>Try to avoid any “conflicting copies” from Dropbox in its CodeSnippets directory. Already happened to me, and it kept Xcode crashing. Also, if you’re running Lion or something newer, the
Library directory of your current user is not visible, so you’ll have to use something like
<a href="http://allmaconline.com/desktop-utility-for-mac/">DesktopUtility</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-04-25T22:00:00+02:00" data-updated="true" itemprop="datePublished">Apr 25<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/git/'>git</a>, <a class='category' href='/blog/categories/rails/'>rails</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/04/25/displaying-git-information-in-rails/" itemprop="url">Displaying Git Information in Rails</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Here is a code snippet that placed within an initializer (for example, in
<strong>git_info.rb</strong>
 at /config/initializers path) can print in your app useful info about the current version of your web app and when it was pushed.</p>

<p>You just have to print them wherever you want.
<strong>GIT_BRANCH</strong>
 is the branch deployed,
<strong>GIT_COMMIT</strong>
 is the long
SHA hash of the last commit while
<strong>GIT_REVISION</strong>
 is its short
SHA, and
<strong>GIT_LASTUPDATE</strong>
 is the formatted time when the last commit was pushed.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-04-22T22:00:00+02:00" data-updated="true" itemprop="datePublished">Apr 22<span>nd</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/random/'>random</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/04/22/welcome/" itemprop="url">Welcome!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Hello there!</p>

<p>I’ve been lately wanting to have an space for my
coding stuff. I have other
<a href="http://www.perry.es">blog</a> in spanish but its contents are of a different nature.</p>

<p>So with that in mind I’ve made this weblog from scratch in a Saturday and I hope some stuff I’ll put in here will be useful for any of you.</p>

<p>Regards.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-04-22T22:00:00+02:00" data-updated="true" itemprop="datePublished">Apr 22<span>nd</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/jquery/'>jquery</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/rss/'>rss</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/04/22/simple-rss-reader-for-rails/" itemprop="url">Simple RSS Reader for Rails</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I wanted a little feed reader for displaying some titles and links in a web page and didn’t like the idea of using a gem that would give me a lot more than I needed. So I wrote a reader in
<strong>jQuery</strong>
 that would populate any div with a given id and voilà.</p>

<p>As $.ajax doesn’t let you access external links, the parameter
internalUrl comes in handy. I routed /blog_feed to a controller with a method I called
<strong>blog</strong>
. In there I read all the data and display it through a view.</p>

<p>And that’s all. Simple idea and simple resolution. You can fork the gists and do whatever you want with them.</p>

<p>Cheers.</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
        <a href="/blog/page/6/" class="prev">Prev</a>
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Nacho Lopez -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a> with some modifications by <a href="http://nlopez.io">Nacho López</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'mrm';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-32899498-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
